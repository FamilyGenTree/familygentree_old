<?php
/**
 * Created by Christoph Graupner <ch.graupner@workingdeveloper.net>.
 *
 * Copyright (c) 2015 WorkingDevelopers.NET
 */

namespace Fgt;


class UrlConstants
{
    const ACTION_PHP               = 'action.php';
    const ADDMEDIA_PHP             = 'addmedia.php';
    const ADMIN_MEDIA_PHP          = 'admin_media.php';
    const ADMIN_MEDIA_UPLOAD_PHP   = 'admin_media_upload.php';
    const ADMIN_MODULE_BLOCKS_PHP  = 'admin_module_blocks.php';
    const ADMIN_MODULE_MENUS_PHP   = 'admin_module_menus.php';
    const ADMIN_MODULE_REPORTS_PHP = 'admin_module_reports.php';
    const ADMIN_MODULE_SIDEBAR_PHP = 'admin_module_sidebar.php';
    const ADMIN_MODULES_PHP        = 'admin_modules.php';
    const ADMIN_MODULE_TABS_PHP    = 'admin_module_tabs.php';
    const ADMIN_PGV_TO_WT_PHP      = 'admin_pgv_to_wt.php';
    const ADMIN_PHP                = 'admin.php';
    const ADMIN_SITE_ACCESS_PHP    = 'admin_site_access.php';
    const ADMIN_SITE_CHANGE_PHP    = 'admin_site_change.php';
    const ADMIN_SITE_CLEAN_PHP     = 'admin_site_clean.php';
    const ADMIN_SITE_CONFIG_PHP    = 'admin_site_config.php';
    const ADMIN_SITE_INFO_PHP      = 'admin_site_info.php';
    const ADMIN_SITE_LOGS_PHP      = 'admin_site_logs.php';
    const ADMIN_SITE_MERGE_PHP     = 'admin_site_merge.php';
    const ADMIN_SITE_README_PHP    = 'admin_site_readme.php';
    const ADMIN_SITE_UPGRADE_PHP   = 'admin_site_upgrade.php';
    const ADMIN_TREES_CHECK_PHP    = 'admin_trees_check.php';
    const ADMIN_TREES_CONFIG_PHP   = 'admin_trees_config.php';
    const ADMIN_TREES_DOWNLOAD_PHP = 'admin_trees_download.php';
    const ADMIN_TREES_EXPORT_PHP   = 'admin_trees_export.php';
    const ADMIN_TREES_MANAGE_PHP   = 'admin_trees_manage.php';
    const ADMIN_TREES_MERGE_PHP    = 'admin_trees_merge.php';
    const ADMIN_TREES_PLACES_PHP   = 'admin_trees_places.php';
    const ADMIN_TREES_RENUMBER_PHP = 'admin_trees_renumber.php';
    const ADMIN_USERS_BULK_PHP     = 'admin_users_bulk.php';
    const ADMIN_USERS_PHP          = 'admin_users.php';
    const ANCESTRY_PHP             = 'ancestry.php';
    const AUTOCOMPLETE_PHP         = 'autocomplete.php';
    const BLOCK_EDIT_PHP           = 'block_edit.php';
    const BRANCHES_PHP             = 'branches.php';
    const CALENDAR_PHP             = 'calendar.php';
    const COMPACT_PHP              = 'compact.php';
    const DESCENDANCY_PHP          = 'descendancy.php';
    const EDIT_CHANGES_PHP         = 'edit_changes.php';
    const EDIT_INTERFACE_PHP       = 'edit_interface.php';
    const EDITNEWS_PHP             = 'editnews.php';
    const EDITUSER_PHP             = 'edituser.php';
    const EXPAND_VIEW_PHP          = 'expand_view.php';
    const FAMILYBOOK_PHP           = 'familybook.php';
    const FAMILY_PHP               = 'family.php';
    const FAMLIST_PHP              = 'famlist.php';
    const FANCHART_PHP             = 'fanchart.php';
    const FIND_PHP                 = 'find.php';
    const GEDRECORD_PHP            = 'gedrecord.php';
    const HELP_TEXT_PHP            = 'help_text.php';
    const HOURGLASS_AJAX_PHP       = 'hourglass_ajax.php';
    const HOURGLASS_PHP            = 'hourglass.php';
    const IMPORT_PHP               = 'import.php';
    const INDEX_EDIT_PHP           = 'index_edit.php';
    const INDEX_PHP                = 'index.php';
    const INDILIST_PHP             = 'indilist.php';
    const INDIVIDUAL_PHP           = 'individual.php';
    const INVERSELINK_PHP          = 'inverselink.php';
    const LIFESPAN_PHP             = 'lifespan.php';
    const LOGIN_PHP                = 'login.php';
    const LOGOUT_PHP               = 'logout.php';
    const MEDIAFIREWALL_PHP        = 'mediafirewall.php';
    const MEDIALIST_PHP            = 'medialist.php';
    const MEDIAVIEWER_PHP          = 'mediaviewer.php';
    const MESSAGE_PHP              = 'message.php';
    const MODULE_PHP               = 'module.php';
    const NOTELIST_PHP             = 'notelist.php';
    const NOTE_PHP                 = 'note.php';
    const PEDIGREE_PHP             = 'pedigree.php';
    const PLACELIST_PHP            = 'placelist.php';
    const RELATIONSHIP_PHP         = 'relationship.php';
    const REPOLIST_PHP             = 'repolist.php';
    const REPO_PHP                 = 'repo.php';
    const REPORTENGINE_PHP         = 'reportengine.php';
    const SEARCH_ADVANCED_PHP      = 'search_advanced.php';
    const SEARCH_PHP               = 'search.php';
    const SETUP_PHP                = 'setup';
    const SITE_OFFLINE_PHP         = 'site-offline.php';
    const SITE_UNAVAILABLE_PHP     = 'site-unavailable.php';
    const SOURCELIST_PHP           = 'sourcelist.php';
    const SOURCE_PHP               = 'source.php';
    const STATISTICS_PHP           = 'statistics.php';
    const STATISTICSPLOT_PHP       = 'statisticsplot.php';
    const TIMELINE_PHP             = 'timeline.php';

    static $map = array(
        self::ACTION_PHP               => 'action_php',
        self::ADDMEDIA_PHP             => 'addmedia_php',
        self::ADMIN_MEDIA_PHP          => 'admin_media_php',
        self::ADMIN_MEDIA_UPLOAD_PHP   => 'admin_media_upload_php',
        self::ADMIN_MODULE_BLOCKS_PHP  => 'admin_module_blocks_php',
        self::ADMIN_MODULE_MENUS_PHP   => 'admin_module_menus_php',
        self::ADMIN_MODULE_REPORTS_PHP => 'admin_module_reports_php',
        self::ADMIN_MODULE_SIDEBAR_PHP => 'admin_module_sidebar_php',
        self::ADMIN_MODULES_PHP        => 'admin_modules_php',
        self::ADMIN_MODULE_TABS_PHP    => 'admin_module_tabs_php',
        self::ADMIN_PGV_TO_WT_PHP      => 'admin_pgv_to_wt_php',
        self::ADMIN_PHP                => 'admin_php',
        self::ADMIN_SITE_ACCESS_PHP    => 'admin_site_access_php',
        self::ADMIN_SITE_CHANGE_PHP    => 'admin_site_change_php',
        self::ADMIN_SITE_CLEAN_PHP     => 'admin_site_clean_php',
        self::ADMIN_SITE_CONFIG_PHP    => 'admin_site_config_php',
        self::ADMIN_SITE_INFO_PHP      => 'admin_site_info_php',
        self::ADMIN_SITE_LOGS_PHP      => 'admin_site_logs_php',
        self::ADMIN_SITE_MERGE_PHP     => 'admin_site_merge_php',
        self::ADMIN_SITE_README_PHP    => 'admin_site_readme_php',
        self::ADMIN_SITE_UPGRADE_PHP   => 'admin_site_upgrade_php',
        self::ADMIN_TREES_CHECK_PHP    => 'admin_trees_check_php',
        self::ADMIN_TREES_CONFIG_PHP   => 'admin_trees_config_php',
        self::ADMIN_TREES_DOWNLOAD_PHP => 'admin_trees_download_php',
        self::ADMIN_TREES_EXPORT_PHP   => 'admin_trees_export_php',
        self::ADMIN_TREES_MANAGE_PHP   => 'admin_trees_manage_php',
        self::ADMIN_TREES_MERGE_PHP    => 'admin_trees_merge_php',
        self::ADMIN_TREES_PLACES_PHP   => 'admin_trees_places_php',
        self::ADMIN_TREES_RENUMBER_PHP => 'admin_trees_renumber_php',
        self::ADMIN_USERS_BULK_PHP     => 'admin_users_bulk_php',
        self::ADMIN_USERS_PHP          => 'admin_users_php',
        self::ANCESTRY_PHP             => 'ancestry_php',
        self::AUTOCOMPLETE_PHP         => 'autocomplete_php',
        self::BLOCK_EDIT_PHP           => 'block_edit_php',
        self::BRANCHES_PHP             => 'branches_php',
        self::CALENDAR_PHP             => 'calendar_php',
        self::COMPACT_PHP              => 'compact_php',
        self::DESCENDANCY_PHP          => 'descendancy_php',
        self::EDIT_CHANGES_PHP         => 'edit_changes_php',
        self::EDIT_INTERFACE_PHP       => 'edit_interface_php',
        self::EDITNEWS_PHP             => 'editnews_php',
        self::EDITUSER_PHP             => 'edituser_php',
        self::EXPAND_VIEW_PHP          => 'expand_view_php',
        self::FAMILYBOOK_PHP           => 'familybook_php',
        self::FAMILY_PHP               => 'family_php',
        self::FAMLIST_PHP              => 'famlist_php',
        self::FANCHART_PHP             => 'fanchart_php',
        self::FIND_PHP                 => 'find_php',
        self::GEDRECORD_PHP            => 'gedrecord_php',
        self::HELP_TEXT_PHP            => 'help_text_php',
        self::HOURGLASS_AJAX_PHP       => 'hourglass_ajax_php',
        self::HOURGLASS_PHP            => 'hourglass_php',
        self::IMPORT_PHP               => 'import_php',
        self::INDEX_EDIT_PHP           => 'index_edit_php',
        self::INDEX_PHP                => 'index_php',
        self::INDILIST_PHP             => 'indilist_php',
        self::INDIVIDUAL_PHP           => 'individual_php',
        self::INVERSELINK_PHP          => 'inverselink_php',
        self::LIFESPAN_PHP             => 'lifespan_php',
        self::LOGIN_PHP                => 'login_php',
        self::LOGOUT_PHP               => 'logout_php',
        self::MEDIAFIREWALL_PHP        => 'mediafirewall_php',
        self::MEDIALIST_PHP            => 'medialist_php',
        self::MEDIAVIEWER_PHP          => 'mediaviewer_php',
        self::MESSAGE_PHP              => 'message_php',
        self::MODULE_PHP               => 'module_php',
        self::NOTELIST_PHP             => 'notelist_php',
        self::NOTE_PHP                 => 'note_php',
        self::PEDIGREE_PHP             => 'pedigree_php',
        self::PLACELIST_PHP            => 'placelist_php',
        self::RELATIONSHIP_PHP         => 'relationship_php',
        self::REPOLIST_PHP             => 'repolist_php',
        self::REPO_PHP                 => 'repo_php',
        self::REPORTENGINE_PHP         => 'reportengine_php',
        self::SEARCH_ADVANCED_PHP      => 'search_advanced_php',
        self::SEARCH_PHP               => 'search_php',
        self::SETUP_PHP                => 'setup_php',
        self::SITE_OFFLINE_PHP         => 'site-offline_php',
        self::SITE_UNAVAILABLE_PHP     => 'site-unavailable_php',
        self::SOURCELIST_PHP           => 'sourcelist_php',
        self::SOURCE_PHP               => 'source_php',
        self::STATISTICS_PHP           => 'statistics_php',
        self::STATISTICSPLOT_PHP       => 'statisticsplot_php',
        self::TIMELINE_PHP             => 'timeline_php'
    );

    public static function map($fileName)
    {
        return isset(static::$map[$fileName]) ? static::$map[$fileName] : null;
    }

    public static function mapToFile($file)
    {
        return $file;
    }

    protected static function _url($filename, $options = array(), $escape = false)
    {
        $url         = Config::get(Config::BASE_URL) . static::map($filename);
        $queryString = '';
        if (is_array($options)) {
            if (!empty($options)) {
                $queryString = '?';
                $opts        = array();
                foreach ($options as $paramKey => $paramValue) {
                    $opts[] = $paramKey . '=' . urlencode($paramValue);
                }
                $queryString .= implode('&', $opts);
            }

        } else {
            $queryString = '?' . $options;
        }

        return $url . $queryString;
    }

    public static function url($filename, $options = array())
    {
        return static::_url($filename, $options, false);
    }

    public static function urlEscape($filename, $options = array())
    {
        return static::_url($filename, $options, true);
    }
}